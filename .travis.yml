
# jdk: openjd
# python:
#   - pypy

# python: 3.10
# rvm:
#  - 3.2.4
# group: stable

# services:
#   - mysql
#   - rabbitmq
#   - postgresql
#   - docker
#   - redis
#   - mongodb
language: shell
group: stable
script:
  - sudo apt update -y
  - sudo apt install ca-certificates curl gnupg lsb-release -y
  - sudo install -m 0755 -d /etc/apt/keyrings
  - curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
  -  echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu noble stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
  - sudo apt update -y
  - sudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
  - . /etc/os-release; echo ${VERSION/*, /}
  - sudo systemctl enable --now docker
  - sudo systemctl restart docker
  - sudo journalctl -xeu docker.service
  # - docker --version
  # - sudo apt install linux-modules-extra-$(uname -r)
  # - sudo modprobe overlay
  # - sudo modprobe overlay2
  # - sudo journalctl -xeu docker.service

  # - echo "TESTING THE IMAGE"
  # - sudo apt update
  # - kiex list
  # - elixir -v
  # - java --version
  # - sudo systemctl status mysql.service
  # - sudo systemctl status rabbitmq-server.service
  # - sudo rabbitmqctl status
  # - mysqld --version
  # - mysqld --print-defaults
  # - postgres --version
  # - psql -U postgres -c 'SHOW config_file'
  # - sudo -u postgres psql -c 'SELECT 1'
  # - pg_lsclusters
  # - ls -al /etc/init.d/
  # - cosign version
  # - rekor-cli version
  # - go version
  # - git -v
  # - git-lfs
  # - hg --version
  # - svn --version
  # - clang --version
  # - cmake --version
  # - gcc --version
  # - ccache -V
  # - shellcheck --version
  # - shfmt -version
  # - docker version
  # - docker run hello-world
  # - docker compose version
  # - docker buildx version
  # - mongod --version
  # - gradle -version
  # - groovy -version
  # - ant -version
  # - perl -v
  # - php -v
  # - redis-server --version
  # - sudo mysqladmin ping
  # - redis-cli ping
  # - sudo rabbitmqctl status
  # - docker run --rm hello-world


jobs:
  include:
#   - os: freebsd

#   - dist: xenial
#     arch: arm64
#   - dist: bionic
#     arch: arm64
#   - dist: focal
#     arch: arm64
#   - dist: jammy
#     arch: arm64
#   - dist: noble
#     arch: arm64
# # ---------------------------------------------------------------------------
#   - dist: xenial
#     arch: ppc64le
#   - dist: bionic
#     arch: ppc64le
#   - dist: focal
#     arch: ppc64le
#   - dist: jammy
#     arch: ppc64le
#   - dist: noble
#     arch: ppc64le
# # ---------------------------------------------------------------------------
#   - dist: xenial
#     arch: s390x
#   - dist: bionic
#     arch: s390x
#   - dist: focal
#     arch: s390x
#   - dist: focal
#     arch: s390x
#   - dist: jammy
#     arch: s390x
#   - dist: noble
#     arch: s390x
# ---------------------------------------------------------------------------
  # - dist: trusty
  # - dist: xenial
  # - dist: bionic
  # - dist: focal
  - dist: jammy
  - dist: noble
# --------------------------------------------------------------------------- 
  # - os: osx
  #   osx_image: xcode11.3
  # - os: osx
  #   osx_image: xcode12.3
  # - os: osx
  #   osx_image: xcode12.4
# --------------------------------------------------------------------------- 
  # - os: windows



