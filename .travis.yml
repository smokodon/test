language: ruby
#ruby: 2.7.1

before_install:
  - ruby -v
  - gem install bundler
script:
#- sudo apt install libpq-dev
# - git --version
# - sudo add-apt-repository ppa:git-core/ppa -y
# - sudo apt-get update
# - sudo apt install git
  - rvm install ruby-2.7.1
  - rvm use ruby-2.7.1
  - cat ~/.rvmrc
  - ruby -v
# - sudo service mongod start
# - sudo systemctl start mongod
# - sudo systemctl start mongodb

group: stable

jobs:
  include:
     - dist: xenial
     - dist: bionic
     - dist: focal
     - dist: jammy
    # - dist: bionic
    #   arch: amd
    # - dist: jammy
    #   arch: amd
    # - dist: focal
    #   arch: ppc64le
    # - dist: xenial
    #   arch: ppc64le
    # - dist: bionic
    #   arch: ppc64le
    # - dist: xenial
    #   arch: s390x
    # - dist: bionic
    #   arch: s390x
    # - dist: focal
    #   arch: s390x
    # - dist: xenial
    #   arch: arm64
    # - dist: bionic
    #   arch: arm64
    # - dist: focal
    #   arch: arm64