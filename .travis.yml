# language: python
# python: 3.12
services:
  - rabbitmq
  - docker
  - mongodb
script:
  - docker -v
  - docker buildx version
  - mongod --version
  - cosign -version
  - git-lfs
  - sudo apt update
  # - sudo apt remove --purge rabbitmq-server
  # - curl -1sLf 'https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/setup.deb.sh' | sudo -E bash
  # - sudo apt update -y
  # - sudo apt install erlang -y
  # - wget https://github.com/rabbitmq/rabbitmq-server/releases/download/v3.13.3/rabbitmq-server_3.13.3-1_all.deb
  # - sudo dpkg -i rabbitmq-server_3.13.3-1_all.deb
  # - sudo apt update
  # - sudo apt install -y libglib2.0-0 linux-headers-generic
  #- sudo cat /var/log/syslog
  # - sudo apt-get purge rabbitmq-server
  # - curl -1sLf 'https://dl.cloudsmith.io/public/rabbitmq/rabbitmq-erlang/setup.deb.sh' | sudo -E bash
  # - sudo apt update -y
  # - sudo apt install erlang -y
  # - sudo apt-get install -y rabbitmq-server
  #- wget https://github.com/rabbitmq/rabbitmq-server/releases/download/v3.12.14/rabbitmq-server_3.12.14-1_all.deb
  #- sudo dpkg -i rabbitmq-server_3.12.14-1_all.deb
  #- sudo apt install rabbitmq-server --fix-broken -y
  # - sudo journalctl --system | grep rabbitmq
  # - sudo apt-get install -y erlang-base \
  #                      erlang-asn1 erlang-crypto erlang-eldap erlang-ftp erlang-inets \
  #                      erlang-mnesia erlang-os-mon erlang-parsetools erlang-public-key \
  #                      erlang-runtime-tools erlang-snmp erlang-ssl \
  #                      erlang-syntax-tools erlang-tftp erlang-tools erlang-xmerl
  # - sudo chmod +x scripts/script1.sh && scripts/script1.sh
  # - sudo systemctl restart rabbitmq-server
  # - sudo systemctl start rabbitmq-server.service
  - systemctl status rabbitmq-server.service
  #- sudo journalctl -xe


jobs:
 include:
  # - os: freebsd
  # - dist: xenial
  #   arch: arm64
  # - dist: bionic
  #   arch: arm64
  # # - dist: focal
  # #   arch: arm64
  # # - dist: jammy
  # #   arch: arm64
  # - dist: xenial
  #   arch: ppc64le
  # - dist: bionic
  #   arch: ppc64le
  # - dist: focal
  #   arch: ppc64le
  # # - dist: jammy
  # #   arch: ppc64le
  # - dist: xenial
  #   arch: s390x
  # - dist: bionic
  #   arch: s390x
  # - dist: focal
  #   arch: s390x
  # - dist: jammy
  #   arch: s390x
  # - dist: trusty
  #   arch: amd64
  # - dist: xenial
  #   arch: amd64
  # - dist: focal
  #   arch: amd64
  # - dist: jammy
  #   arch: amd64
  # - dist: xenial
  #   arch: amd64
  # - dist: bionic
  #   group: stable
  - dist: bionic
    group: dev
  - dist: focal
    group: dev
  - dist: focal
    group: stable
  # - dist: bionic
  #   group: dev
  # - dist: jammy
  #   group: stable
  #   arch: amd64

